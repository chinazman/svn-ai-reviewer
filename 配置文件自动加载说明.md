# 配置文件自动加载功能

## 更新内容

移除?加载配置"按钮，改为下拉框切换时自动加载配置?

## 界面变化

### 修改?

```
📁 配置文件
[下拉? config.yaml] [加载配置按钮]
```

### 修改?

```
📁 配置文件
[下拉? config.yaml]
```

## 使用方式

1. 打开审核工具（本地模式或在线模式?
2. ?配置文件"下拉框中选择配置
3. 配置自动加载，无需点击按钮
4. 查看配置信息提示框确认加载成?

## 优势

### 1. 更简洁的界面
- 减少了一个按?
- 界面更加简洁清?
- 视觉焦点更集?

### 2. 更快的操?
- 选择即加载，无需额外点击
- 减少了一个操作步?
- 提高了使用效?

### 3. 更好的体?
- 符合用户直觉
- 即时反馈
- 减少认知负担

## 实现细节

### HTML 修改

**在线模式 (gui/templates/online.html):**

```html
<!-- 修改?-->
<div class="input-group">
    <select id="configPath" style="...">
        <option value="config.yaml">config.yaml (默认)</option>
    </select>
    <button onclick="loadConfig()">加载配置</button>
</div>

<!-- 修改?-->
<select id="configPath" onchange="loadConfig()" style="width: 100%; ...">
    <option value="config.yaml">config.yaml (默认)</option>
</select>
```

**本地模式 (gui/templates/index.html):**

同样的修改方式?

### JavaScript 逻辑

无需修改 JavaScript 代码，只需?HTML 中添?`onchange="loadConfig()"` 事件处理器?

```javascript
// loadConfig() 函数保持不变
async function loadConfig() {
    const configPath = document.getElementById('configPath').value;
    localStorage.setItem('selected_config', configPath);
    // ... 加载配置
}
```

## 工作流程

```
用户选择配置
    ?
触发 onchange 事件
    ?
调用 loadConfig()
    ?
保存选择?localStorage
    ?
发?API 请求加载配置
    ?
显示配置信息
```

## 兼容?

- ?所有现代浏览器都支?`onchange` 事件
- ?移动端浏览器完全支持
- ?键盘操作（方向键选择）也会触?`onchange`

## 用户反馈

配置加载成功后，会显示信息提示框?

```
?已加载配?- Provider: deepseek, Model: deepseek-coder
```

配置加载失败时，会显示错误提示：

```
?加载配置失败: [错误信息]
```

## 注意事项

1. **首次加载**：页面加载时会自动加载默认配置或上次选择的配?
2. **切换配置**：每次切换都会立即加载，请确保配置文件有?
3. **网络延迟**：加载配置需要网络请求，可能有短暂延?
4. **错误处理**：如果配置加载失败，会显示错误信息，不影响其他功?

## 测试建议

1. 选择不同的配置文件，确认自动加载
2. 检查配置信息是否正确显?
3. 测试无效配置文件的错误提?
4. 验证 localStorage 是否正确保存选择
5. 刷新页面，确认自动选择上次的配?

## 与其他功能的配合

### 记忆功能
- 选择配置后自动保存到 localStorage
- 下次访问时自动选择上次的配?
- 无缝衔接，用户无感知

### 配置列表
- 页面加载时自动获取配置列?
- 填充到下拉框?
- 自动选择保存的配置并加载

### 日志显示
- 配置加载过程会在日志区域显示
- 包括加载中、成功、失败等状?
- 方便用户了解加载进度
