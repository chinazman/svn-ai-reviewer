# SVN ä»£ç å®¡æ ¸å·¥å…· - GUI æ”¹é€ è¯´æ˜?

## æ”¹é€ æ¦‚è¿?

æœ¬æ¬¡æ”¹é€ å°†åŸæœ‰çš„çº¯ CLI å·¥å…·å‡çº§ä¸ºæ”¯æŒ?Web GUI å’?CLI åŒæ¨¡å¼çš„åº”ç”¨ï¼Œåœ¨ä¸æ”¹å˜ä»»ä½•ä¸šåŠ¡é€»è¾‘çš„å‰æä¸‹ï¼Œæä¾›äº†æ›´å‹å¥½çš„å›¾å½¢ç•Œé¢ã€?

## æ”¹é€ å†…å®?

### 1. æ–°å¢æ–‡ä»¶

#### `gui/server.go`
- Web æœåŠ¡å™¨å®ç?
- HTTP API æ¥å£
- ä¸šåŠ¡é€»è¾‘è°ƒç”¨ï¼ˆå¤ç”¨åŸæœ‰ä»£ç ï¼‰

#### `gui/templates/index.html`
- ç°ä»£åŒ–çš„ Web ç•Œé¢
- å“åº”å¼è®¾è®?
- å®æ—¶æ—¥å¿—æ˜¾ç¤º
- æ–‡ä»¶é€‰æ‹©åŠŸèƒ½

#### `GUIä½¿ç”¨è¯´æ˜.md`
- è¯¦ç»†çš„ä½¿ç”¨æ–‡æ¡?
- å¸¸è§é—®é¢˜è§£ç­”

### 2. ä¿®æ”¹æ–‡ä»¶

#### `main.go`
**æ”¹åŠ¨è¯´æ˜**ï¼?
- æ·»åŠ å¯åŠ¨æ¨¡å¼åˆ¤æ–­é€»è¾‘
- æ— å‚æ•°æ—¶å¯åŠ¨ Web GUI
- æœ‰å‚æ•°æ—¶ä½¿ç”¨ CLI æ¨¡å¼

**æ”¹åŠ¨å‰?*ï¼?
```go
func main() {
	if err := cmd.Execute(); err != nil {
		fmt.Fprintf(os.Stderr, "é”™è¯¯: %v\n", err)
		os.Exit(1)
	}
}
```

**æ”¹åŠ¨å?*ï¼?
```go
func main() {
	// å¦‚æœæœ‰å‘½ä»¤è¡Œå‚æ•°ï¼Œä½¿ç”?CLI æ¨¡å¼
	if len(os.Args) > 1 {
		if err := cmd.Execute(); err != nil {
			fmt.Fprintf(os.Stderr, "é”™è¯¯: %v\n", err)
			os.Exit(1)
		}
		return
	}

	// å¦åˆ™å¯åŠ¨ Web GUI æ¨¡å¼
	server := gui.NewServer()
	if err := server.Start(); err != nil {
		fmt.Fprintf(os.Stderr, "å¯åŠ¨æœåŠ¡å™¨å¤±è´? %v\n", err)
		os.Exit(1)
	}
}
```

#### `build.bat`
**æ”¹åŠ¨è¯´æ˜**ï¼?
- ç§»é™¤ `-ldflags="-H windowsgui"` å‚æ•°ï¼ˆä¸å†éœ€è¦éšè—æ§åˆ¶å°ï¼?
- æ›´æ–°ä½¿ç”¨è¯´æ˜

#### `README.md`
**æ”¹åŠ¨è¯´æ˜**ï¼?
- æ·»åŠ  Web GUI ä½¿ç”¨è¯´æ˜
- æ›´æ–°åŠŸèƒ½ç‰¹æ€§åˆ—è¡?
- æ›´æ–°é¡¹ç›®ç»“æ„è¯´æ˜

### 3. ä¾èµ–å˜åŒ–

**ç§»é™¤çš„ä¾èµ?*ï¼?
- `fyne.io/fyne/v2` - åŸè®¡åˆ’ä½¿ç”¨ä½†å› éœ€è¦?C ç¼–è¯‘å™¨è€Œæ”¾å¼?

**æ–°å¢çš„ä¾èµ?*ï¼?
- æ— ï¼ˆä½¿ç”¨ Go æ ‡å‡†åº“å®ç°ï¼‰

## æŠ€æœ¯æ–¹æ¡?

### ä¸ºä»€ä¹ˆé€‰æ‹© Web GUIï¼?

1. **æ— éœ€é¢å¤–ä¾èµ–**ï¼šçº¯ Go å®ç°ï¼Œä¸éœ€è¦?CGO æˆ?C ç¼–è¯‘å™?
2. **è·¨å¹³å°å…¼å®?*ï¼šåœ¨ Windows/Linux/Mac ä¸Šéƒ½èƒ½æ­£å¸¸è¿è¡?
3. **æ˜“äºéƒ¨ç½²**ï¼šå•ä¸ªå¯æ‰§è¡Œæ–‡ä»¶ï¼Œå†…åµŒæ‰€æœ‰èµ„æº?
4. **ç°ä»£åŒ–ç•Œé?*ï¼šä½¿ç”?HTML5/CSS3/JavaScript å®ç°ç¾è§‚çš„ç•Œé?
5. **æ˜“äºç»´æŠ¤**ï¼šå‰åç«¯åˆ†ç¦»ï¼Œä»£ç ç»“æ„æ¸…æ™?

### æ¶æ„è®¾è®¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”?
â”?          main.go (å…¥å£)                 â”?
â”? â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”?     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”? â”?
â”? â”? CLI æ¨¡å¼   â”?     â”? GUI æ¨¡å¼    â”? â”?
â”? â”? (cmd/)     â”?     â”? (gui/)      â”? â”?
â”? â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”?     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”? â”?
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”?
              â”?               â”?
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”?
                       â†?
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”?
        â”?  ä¸šåŠ¡é€»è¾‘å±?(internal/)  â”?
        â”? â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”? â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”?â”?
        â”? â”?  AI   â”? â”?  SVN   â”?â”?
        â”? â””â”€â”€â”€â”€â”€â”€â”€â”€â”? â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”?â”?
        â”? â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”? â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”?â”?
        â”? â”?Config â”? â”?Report  â”?â”?
        â”? â””â”€â”€â”€â”€â”€â”€â”€â”€â”? â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”?â”?
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”?
```

### API è®¾è®¡

#### POST /api/load-config
åŠ è½½é…ç½®æ–‡ä»¶
```json
Request: { "config_path": "config.yaml" }
Response: { "success": true, "config": {...} }
```

#### POST /api/scan
æ‰«æ SVN å˜æ›´
```json
Request: { "work_dir": "." }
Response: { "success": true, "files": [...] }
```

#### POST /api/review
æ‰§è¡Œä»£ç å®¡æ ¸
```json
Request: { "work_dir": ".", "indices": [0,1,2] }
Response: { "success": true, "report_path": "..." }
```

## ä¸šåŠ¡é€»è¾‘ä¿æŒä¸å˜

### å®Œå…¨å¤ç”¨çš„æ¨¡å?

1. **internal/ai/** - AI å®¢æˆ·ç«¯é€»è¾‘
2. **internal/svn/** - SVN æ“ä½œé€»è¾‘
3. **internal/config/** - é…ç½®ç®¡ç†
4. **internal/report/** - æŠ¥å‘Šç”Ÿæˆ
5. **cmd/** - CLI å‘½ä»¤å®ç°

### ä»£ç å¤ç”¨ç¤ºä¾‹

GUI æ¨¡å¼ä¸­çš„å®¡æ ¸é€»è¾‘ä¸?CLI æ¨¡å¼å®Œå…¨ä¸€è‡´ï¼š

```go
// CLI æ¨¡å¼ (cmd/review.go)
svnClient := svn.NewClient(cfg.SVN.Command, workDir)
changes, err := svnClient.GetChangedFiles(cfg.Ignore)
aiClient, err := ai.NewClient(&cfg.AI)
result, err := aiClient.Review(ctx, change.Path, diff, cfg.ReviewPrompt)

// GUI æ¨¡å¼ (gui/server.go)
svnClient := svn.NewClient(s.cfg.SVN.Command, req.WorkDir)
changes, err := svnClient.GetChangedFiles(s.cfg.Ignore)
aiClient, err := ai.NewClient(&s.cfg.AI)
result, err := aiClient.Review(ctx, change.Path, diff, s.cfg.ReviewPrompt)
```

## ä½¿ç”¨æ–¹å¼å¯¹æ¯”

### GUI æ¨¡å¼ï¼ˆæ–°å¢ï¼‰
```bash
# ç›´æ¥è¿è¡Œï¼Œå¯åŠ?Web ç•Œé¢
svn-ai-reviewer.exe

# æˆ–åŒå‡»å¯æ‰§è¡Œæ–‡ä»¶
```

### CLI æ¨¡å¼ï¼ˆä¿æŒä¸å˜ï¼‰
```bash
# æ‰€æœ‰åŸæœ‰å‘½ä»¤éƒ½æ­£å¸¸å·¥ä½œ
svn-ai-reviewer.exe review
svn-ai-reviewer.exe review -d /path/to/repo
svn-ai-reviewer.exe review -i
svn-ai-reviewer.exe review --help
```

## ä¼˜åŠ¿æ€»ç»“

1. âœ?**å‘åå…¼å®¹**ï¼šæ‰€æœ?CLI åŠŸèƒ½å®Œå…¨ä¿ç•™
2. âœ?**é›¶ä¾èµ?*ï¼šä¸éœ€è¦å®‰è£…é¢å¤–çš„åº“æˆ–å·¥å…·
3. âœ?**æ˜“äºä½¿ç”¨**ï¼šå›¾å½¢ç•Œé¢é™ä½ä½¿ç”¨é—¨æ§?
4. âœ?**ä»£ç å¤ç”¨**ï¼šä¸šåŠ¡é€»è¾‘ 100% å¤ç”¨
5. âœ?**æ˜“äºéƒ¨ç½²**ï¼šå•æ–‡ä»¶éƒ¨ç½²ï¼Œå¼€ç®±å³ç”?
6. âœ?**è·¨å¹³å?*ï¼šWindows/Linux/Mac é€šç”¨
7. âœ?**ç°ä»£åŒ?*ï¼šç¾è§‚çš„ç•Œé¢è®¾è®¡
8. âœ?**å®æ—¶åé¦ˆ**ï¼šæ—¥å¿—å®æ—¶æ˜¾ç¤?

## æ„å»ºå’Œæµ‹è¯?

### æ„å»º
```bash
# Windows
build.bat

# æˆ–æ‰‹åŠ¨æ„å»?
go mod tidy
go build -o svn-ai-reviewer.exe
```

### æµ‹è¯•
```bash
# æµ‹è¯• GUI æ¨¡å¼
svn-ai-reviewer.exe

# æµ‹è¯• CLI æ¨¡å¼
svn-ai-reviewer.exe review --help
```

## åç»­ä¼˜åŒ–å»ºè®®

1. **ç«¯å£é…ç½®**ï¼šæ”¯æŒè‡ªå®šä¹‰ç«¯å£
2. **ä¸»é¢˜åˆ‡æ¢**ï¼šæ”¯æŒæ·±è‰?æµ…è‰²ä¸»é¢˜
3. **å†å²è®°å½•**ï¼šä¿å­˜å®¡æ ¸å†å?
4. **æ‰¹é‡æ“ä½œ**ï¼šæ”¯æŒæ‰¹é‡å®¡æ ¸å¤šä¸ªä»“åº?
5. **WebSocket**ï¼šä½¿ç”?WebSocket å®ç°æ›´æµç•…çš„å®æ—¶æ›´æ–°
6. **è¿›åº¦æ?*ï¼šæ˜¾ç¤ºè¯¦ç»†çš„å®¡æ ¸è¿›åº¦
7. **æŠ¥å‘Šé¢„è§ˆ**ï¼šåœ¨ç•Œé¢ä¸­ç›´æ¥é¢„è§ˆæŠ¥å‘?

## æ€»ç»“

æœ¬æ¬¡æ”¹é€ æˆåŠŸåœ°å°?CLI å·¥å…·å‡çº§ä¸ºåŒæ¨¡å¼åº”ç”¨ï¼Œåœ¨ä¿æŒæ‰€æœ‰åŸæœ‰åŠŸèƒ½çš„åŒæ—¶ï¼Œæä¾›äº†æ›´å‹å¥½çš„ç”¨æˆ·ä½“éªŒã€‚é€šè¿‡ä½¿ç”¨ Web æŠ€æœ¯æ ˆï¼Œé¿å…äº†åŸç”Ÿ GUI æ¡†æ¶çš„å¤æ‚ä¾èµ–é—®é¢˜ï¼Œå®ç°äº†çœŸæ­£çš„è·¨å¹³å°ã€é›¶ä¾èµ–éƒ¨ç½²ã€?
